# Square

## Build and run

`npm i` скачать npm пакеты

`npm run client:build` собрать клиентский код

`npm run client:dev` собрать клиентский код и пересобирать при изменении кода

`npm run server` запустить сервер

`npm run server:dev` запустить сервер и перезапускать при изменении кода

## Stack

- Backend: Node.js + Express
- Frontend: React + Redux + Saga
- Communication: WebSocket protocol via socket.io or polling
- Controller: handmade module that supports mouse, keyboard and gamepad (Gamepad API)

## Описание

Сетевая игра. Жанр - пока не ясен. Название - тоже.

### v.1
Игрок подключается к игре в режиме зрителя.
Зритель может стать игроком, если есть свободные места.
У игры есть максимальное количество игроков.
Если игра началась, то зритель не может стать игроком.
Имя и цвет игрока определяет сервер.
Игрок имеет состояние и очки.
Начальное состояние NOT_READY
Игра начнётся, когда все игроки перейдут в состояние READY_TO_START.
Игроки переходят в состояние PLANNING.
В этом состоянии они должны определить, что будут делать их юнит.
После того, как выбор сделан, игрок переходит в состояние READY_TO_GO.
Когда все сделали свой выбор, то все игроки одновременно переходят в состояние ACTION и совершаю дискредные действия - шаги.
Очки подсчитываются после каждого шага.
На этом цикл завершается и все игроки с не нулевым счётом переходят в состояние PLANNING.
Остальные же переходят в GAME_OVER.

1. NOT_READY
2. READY_TO_START
3. PLANNING
4. READY_TO_GO
5. ACTION
6. GAME_OVER

У самой игры тоже есть состояние
1.  INIT
2.  PLAY
3.  END

В игре есть
1.  юниты
2.  бомбы
3.  стены
4.  блоки

Блоки можно уничтожить.
Стены - нет.
Бомбы вызрываются и уничтожают блоки или юнитов.
Юнитам наносится урон.

### TODO
* Задание имени
* Задание цвета
* Создание игры
* Присоединение к любой игре из списка
* Задать тип игры
* Учётная запись: создать, войти, выйти, удалить
* Переподключение к игре при обрыве связи
* Настройка клавиш управления
* Чат в игре